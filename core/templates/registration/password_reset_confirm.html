{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "新しいパスワードの設定" %} | {% trans "EDIシステム" %}{% endblock %}

{% block content %}
<div style="max-width: 400px; margin: 4rem auto;">
    <div class="card fade-in">
        <h2 style="font-family: 'Outfit', sans-serif; margin-bottom: 2rem;">{% trans "新しいパスワードの設定" %}</h2>

        {% if validlink %}
            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 2rem;">
                {% trans "新しいパスワードを2回入力してください。" %}
            </p>
            <form method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="btn" style="width: 100%; padding: 0.8rem;">{% trans "パスワードを変更する" %}</button>
            </form>
        {% else %}
            <p style="color: #ef4444; margin-bottom: 2rem;">
                {% trans "パスワードリセット用のリンクが無効か、期限切れです。" %}
            </p>
            <a href="{% url 'password_reset' %}" class="btn">{% trans "パスワードリセットを再試行" %}</a>
        {% endif %}
    </div>
</div>
{% endblock %}
