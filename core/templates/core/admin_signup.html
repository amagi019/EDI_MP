{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "管理者登録" %} | {% trans "EDIシステム" %}{% endblock %}

{% block content %}
<div style="max-width: 400px; margin: 4rem auto;">
    <div class="card fade-in">
        <h2 style="font-family: 'Outfit', sans-serif; margin-bottom: 2rem;">{% trans "管理者アカウント登録" %}</h2>
        <form method="post" autocomplete="off">
            {% csrf_token %}
            <p style="color: var(--text-dim); font-size: 0.9rem; margin-bottom: 2rem;">{% trans "新しい管理者の情報を入力してください。" %}
            </p>

            {% if form.non_field_errors %}
            <div style="color: #ef4444; font-size: 0.875rem; margin-bottom: 1rem;">
                {% for error in form.non_field_errors %}
                <p>{{ error }}</p>
                {% endfor %}
            </div>
            {% endif %}

            <div style="margin-bottom: 1rem;">
                <label for="id_username">{% trans "ユーザー名" %}</label>
                <input type="text" name="username" maxlength="150" required id="id_username" autocomplete="off"
                    value="{{ form.username.value|default:'' }}">
                {% if form.username.errors %}
                <div style="color: #ef4444; font-size: 0.875rem;">{{ form.username.errors }}</div>
                {% endif %}
            </div>

            <div style="margin-bottom: 1rem;">
                <label for="id_email">{% trans "メールアドレス" %}</label>
                <input type="email" name="email" required id="id_email" autocomplete="off"
                    value="{{ form.email.value|default:'' }}">
                {% if form.email.errors %}
                <div style="color: #ef4444; font-size: 0.875rem;">{{ form.email.errors }}</div>
                {% endif %}
            </div>

            <div style="margin-bottom: 1rem;">
                <label for="id_password1">{% trans "パスワード" %}</label>
                <input type="password" name="password1" required id="id_password1" autocomplete="new-password">
                {% if form.password1.errors %}
                <div style="color: #ef4444; font-size: 0.875rem;">{{ form.password1.errors }}</div>
                {% endif %}
                <p style="color: var(--text-dim); font-size: 0.75rem; margin-top: 0.25rem;">8文字以上で設定してください。</p>
            </div>

            <div style="margin-bottom: 1rem;">
                <label for="id_password2">{% trans "パスワード（確認）" %}</label>
                <input type="password" name="password2" required id="id_password2" autocomplete="new-password">
                {% if form.password2.errors %}
                <div style="color: #ef4444; font-size: 0.875rem;">{{ form.password2.errors }}</div>
                {% endif %}
            </div>

            <button type="submit" class="btn" style="width: 100%; padding: 0.8rem;">{% trans "登録する" %}</button>
        </form>
        <div class="text-center mt-4">
            <a href="{% url 'login' %}" style="color: var(--accent); text-decoration: none;">{% trans "既にアカウントをお持ちの方"
                %}</a>
        </div>
    </div>
</div>
{% endblock %}